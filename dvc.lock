schema: '2.0'
stages:
  raw_to_intermediate:
    cmd: uv run python3 src/data_pipelines/raw_to_intermediate.py
    deps:
    - path: data/raw/DEXCHUS.csv
      hash: md5
      md5: 171abf84f31a980f719e7202a1e92974
      size: 59629
    - path: data/raw/DEXINUS.csv
      hash: md5
      md5: 34f9eb35d2c50b6a115d9760607fdf39
      size: 62847
    - path: data/raw/automobile_industry/ECB Data Portal_20251123141544.csv
      hash: md5
      md5: 3dc1b4bc7dfb09f23f1ddc2682c3e7c6
      size: 15132
    - path: data/raw/commodities/Commodity Market Watch Global Tables (Excel) -
        November  2025_CAP Tool 2.xlsx
      hash: md5
      md5: 873d3aabb32c893e40b1846efe7a3c8d
      size: 593855
    - path:
        data/raw/electricity_price/european_wholesale_electricity_price_data_monthly.csv
      hash: md5
      md5: f9e3bff349afb55af238886c1578f69b
      size: 111852
    - path: data/raw/pc_price/pc_price_asia.csv
      hash: md5
      md5: d59f85920f17a69f5a9cdf94e5ba17db
      size: 46702
    - path: data/raw/pc_price/pc_price_eu.csv
      hash: md5
      md5: edc3a7f9d1c6c0a2c057a03332cad020
      size: 73034
    - path:
        data/raw/phenol_acetone_capacity_loss/acetone_consumption_capacity_loss_kt.pq
      hash: md5
      md5: eb7bbe8c100b8a4fe374b566f2169257
      size: 61711
    - path:
        data/raw/phenol_acetone_capacity_loss/phenol_consumption_capacity_loss_kt.pq
      hash: md5
      md5: dc99ea4e96ae68c3fbb439d5d5fe697a
      size: 59375
    - path: data/raw/shutdown/Acetone.csv
      hash: md5
      md5: d8c6b01e69235c1283427760013488b8
      size: 122396
    - path: data/raw/shutdown/Phenol.csv
      hash: md5
      md5: 339dfeb972d716ee323d7305badc3ad1
      size: 121819
    - path: src/data_pipelines/raw_to_intermediate.py
      hash: md5
      md5: 8e5b92e4b9eddd027f6db91463ad5f1c
      size: 33293
    outs:
    - path:
        data/intermediate/automobile_industry/intermediate_automobile_industry.csv
      hash: md5
      md5: 4be9e7f02b074f60f8d65a6eb946f8bd
      size: 8645
    - path: data/intermediate/commodities/intermediate_commodities.csv
      hash: md5
      md5: ebb812cd290fa1e5ddd6ad585ed2096e
      size: 5152
    - path:
        data/intermediate/electricity_price/intermediate_european_wholesale_electricity_price.csv
      hash: md5
      md5: 74f0845b7efd299bf13cb54f6c40b548
      size: 8512
    - path: data/intermediate/pc_price/intermediate_pc_price_asia.csv
      hash: md5
      md5: c29820f22f6bcf55a1552ede3fcd7b9c
      size: 20280
    - path: data/intermediate/pc_price/intermediate_pc_price_asia_grouped.csv
      hash: md5
      md5: 286380456a6bf66921397db6357ef496
      size: 24901
    - path: data/intermediate/pc_price/intermediate_pc_price_eu.csv
      hash: md5
      md5: 93f8bfafa71762a93a81e4b8c5371198
      size: 21664
    - path: data/intermediate/pc_price/intermediate_pc_price_eu_grouped.csv
      hash: md5
      md5: b9cd7f01932e1b6410db3a3a74f0779e
      size: 27913
    - path:
        data/intermediate/phenol_acetone_capacity_loss/intermediate_bpa_capacity_loss.csv
      hash: md5
      md5: b5e3d80dc4785cf0872788e670ed71f5
      size: 1766
    - path: data/intermediate/shutdown/intermediate_shutdown_capacity_loss.csv
      hash: md5
      md5: 0fc38f202d6f9f4abd18d716355cbf78
      size: 5220
  intermediate_to_processed_uni:
    cmd: uv run python3 src/data_pipelines/uni_intermediate_to_processed.py
    deps:
    - path:
        data/intermediate/automobile_industry/intermediate_automobile_industry.csv
      hash: md5
      md5: 4be9e7f02b074f60f8d65a6eb946f8bd
      size: 8645
    - path: data/intermediate/commodities/intermediate_commodities.csv
      hash: md5
      md5: ebb812cd290fa1e5ddd6ad585ed2096e
      size: 5152
    - path:
        data/intermediate/electricity_price/intermediate_european_wholesale_electricity_price.csv
      hash: md5
      md5: 74f0845b7efd299bf13cb54f6c40b548
      size: 8512
    - path: data/intermediate/pc_price/intermediate_pc_price_asia.csv
      hash: md5
      md5: c29820f22f6bcf55a1552ede3fcd7b9c
      size: 20280
    - path: data/intermediate/pc_price/intermediate_pc_price_asia_grouped.csv
      hash: md5
      md5: 286380456a6bf66921397db6357ef496
      size: 24901
    - path: data/intermediate/pc_price/intermediate_pc_price_eu.csv
      hash: md5
      md5: 93f8bfafa71762a93a81e4b8c5371198
      size: 21664
    - path: data/intermediate/pc_price/intermediate_pc_price_eu_grouped.csv
      hash: md5
      md5: b9cd7f01932e1b6410db3a3a74f0779e
      size: 27913
    - path:
        data/intermediate/phenol_acetone_capacity_loss/intermediate_bpa_capacity_loss.csv
      hash: md5
      md5: b5e3d80dc4785cf0872788e670ed71f5
      size: 1766
    - path: data/intermediate/shutdown/intermediate_shutdown_capacity_loss.csv
      hash: md5
      md5: 0fc38f202d6f9f4abd18d716355cbf78
      size: 5220
    - path: src/data_pipelines/uni_intermediate_to_processed.py
      hash: md5
      md5: e5a9071c9435f9b12e93d7a4f9a6b717
      size: 7123
    outs:
    - path: data/processed/uni_3m.csv
      hash: md5
      md5: 09963157cf2ad0602800d6971871728c
      size: 381278
    - path: data/processed/uni_6m.csv
      hash: md5
      md5: 5d57d89aeb996048d2eff95bc65d2271
      size: 380136
    - path: data/processed/uni_9m.csv
      hash: md5
      md5: 76638ab9d4c2c28aa7f80cdfe4386436
      size: 393409
    - path: data/se_predictions/se_predictions_uni.csv
      hash: md5
      md5: c5f51fe513e88722ab8abd252d013204
      size: 613
    - path: data/se_predictions/se_predictions_uni_grouped.csv
      hash: md5
      md5: e57ea90a560a5307eb077cc78b4d1cb6
      size: 1983
  intermediate_to_processed_multi:
    cmd: uv run python3 src/data_pipelines/multi_intermediate_to_processed.py
    deps:
    - path:
        data/intermediate/automobile_industry/intermediate_automobile_industry.csv
      hash: md5
      md5: 4be9e7f02b074f60f8d65a6eb946f8bd
      size: 8645
    - path: data/intermediate/commodities/intermediate_commodities.csv
      hash: md5
      md5: ebb812cd290fa1e5ddd6ad585ed2096e
      size: 5152
    - path:
        data/intermediate/electricity_price/intermediate_european_wholesale_electricity_price.csv
      hash: md5
      md5: 74f0845b7efd299bf13cb54f6c40b548
      size: 8512
    - path: data/intermediate/pc_price/intermediate_pc_price_asia.csv
      hash: md5
      md5: c29820f22f6bcf55a1552ede3fcd7b9c
      size: 20280
    - path: data/intermediate/pc_price/intermediate_pc_price_asia_grouped.csv
      hash: md5
      md5: 286380456a6bf66921397db6357ef496
      size: 24901
    - path: data/intermediate/pc_price/intermediate_pc_price_eu.csv
      hash: md5
      md5: 93f8bfafa71762a93a81e4b8c5371198
      size: 21664
    - path: data/intermediate/pc_price/intermediate_pc_price_eu_grouped.csv
      hash: md5
      md5: b9cd7f01932e1b6410db3a3a74f0779e
      size: 27913
    - path:
        data/intermediate/phenol_acetone_capacity_loss/intermediate_bpa_capacity_loss.csv
      hash: md5
      md5: b5e3d80dc4785cf0872788e670ed71f5
      size: 1766
    - path: data/intermediate/shutdown/intermediate_shutdown_capacity_loss.csv
      hash: md5
      md5: 0fc38f202d6f9f4abd18d716355cbf78
      size: 5220
    - path: src/data_pipelines/multi_intermediate_to_processed.py
      hash: md5
      md5: 29de8c24f48e617bb001c4a31ce07489
      size: 7149
    outs:
    - path: data/processed/multi_3m.csv
      hash: md5
      md5: 311038e3994a63a5c64b39fc76aa1f9c
      size: 301547
    - path: data/processed/multi_6m.csv
      hash: md5
      md5: 4aa1312b7b867393cb536ddeb0e2afa0
      size: 300917
    - path: data/processed/multi_9m.csv
      hash: md5
      md5: 721cf0ee7a29127be46efcc4b0226bb3
      size: 312563
    - path: data/se_predictions/se_predictions_multi.csv
      hash: md5
      md5: a6b3aed971d192c53d7ba765e50480fe
      size: 596
    - path: data/se_predictions/se_predictions_multi_grouped.csv
      hash: md5
      md5: 29b38f5c9f7d8c29219d5590c756bef7
      size: 2141
